create database dbdisparador;

use dbdisparador;

create table tbvale(
idsenha MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
senha varchar(50),
vencimento date);

create table tbconfig(
idconf MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
firefoxBinary_path text,
geckoExe_path text,
firefoxProfile_path text,
mensagem text,
midia_path text);

select * from tbconfig;


create table tbgrupos(
idgrupo MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nomeGrupo text,
conjunto varchar(50),
ultimoEnvioG date
);

create table tbclientes(
idcliente MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nomecliente text,
telefonecliente varchar(18),
conjuntocliente varchar(50),
ultimoEnvioC date
);

create table tbmensagens(
idmensagem MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
mensagem text,
titulo varchar(50),
midia text,
ordem int
);

create table tbErro(
idErro MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nomeInserido text,
nomeEsperado text,
categoria text
);

insert into tbconfig(idconf,mensagem,midia_path) values(1,"","");
insert into tbvale(idsenha,senha) values(1,"vazio");

alter table tbgrupos add ultimoEnvioG date;
alter table tbclientes add ultimoEnvioC date;
alter table tbmensagens add ordem int;

describe tbvale;

select * from tbvale;
select * from tbErro;
select * from tbclientes;
select * from tbgrupos;
select * from tbconfig;
select * from tbmensagens;

select * from tbclientes where ultimoEnvioC != current_date();
update tbclientes set ultimoEnvioC = date("2023-04-29") where idcliente=10;

select mensagem, midia from tbmensagens where  titulo = 'teste2' or titulo = 'teste' ORDER BY ordem asc;

